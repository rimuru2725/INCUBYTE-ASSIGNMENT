============================= test session starts =============================
platform win32 -- Python 3.13.0, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Users\vivek\OneDrive\Desktop\Projects\assignment
configfile: pytest.ini
plugins: anyio-4.7.0
collected 3 items

backend\tests\test_sweets.py FFF                                         [100%]

================================== FAILURES ===================================
______________________________ test_create_sweet ______________________________

auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbl8xYTBiNWQzNS1lNjE0LTQ0YjktYjljZS0yMTQ2OTk1ODVmZDEiLCJleHAiOjE3NjU2NDc2MTR9.3BqgCdNthXs96kEp7BbpBMm5bhwTGn1KtDVwIsuEMEM'}

    def test_create_sweet(auth_headers):
        response = client.post(
            "/api/sweets",
            json={
                "name": "Chocolate Bar",
                "category": "Chocolate",
                "price": 2.50,
                "quantity": 100
            },
            headers=auth_headers
        )
>       assert response.status_code == 201
E       assert 404 == 201
E        +  where 404 = <Response [404 Not Found]>.status_code

backend\tests\test_sweets.py:35: AssertionError
----------------------------- Captured log setup ------------------------------
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\vivek\AppData\Local\Programs\Python\Python313\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
_______________________________ test_get_sweets _______________________________

    def test_get_sweets():
        response = client.get("/api/sweets")
>       assert response.status_code == 200
E       assert 404 == 200
E        +  where 404 = <Response [404 Not Found]>.status_code

backend\tests\test_sweets.py:43: AssertionError
_____________________________ test_search_sweets ______________________________

auth_headers = {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbl8yMjIyNWM4OC1iZDA1LTQ5MDMtYTUxNi1mMzliMWI2MzBkZmYiLCJleHAiOjE3NjU2NDc2MTV9.jw5pjcXyav2rn4o8OoCRFFgwC40PAhIbVjqniwvGq_U'}

    def test_search_sweets(auth_headers):
        # First create one
        client.post(
            "/api/sweets",
            json={
                "name": "Gummy Bears",
                "category": "Gummy",
                "price": 1.50,
                "quantity": 50
            },
            headers=auth_headers
        )
    
        response = client.get("/api/sweets/search?q=Gummy")
>       assert response.status_code == 200
E       assert 404 == 200
E        +  where 404 = <Response [404 Not Found]>.status_code

backend\tests\test_sweets.py:60: AssertionError
=========================== short test summary info ===========================
FAILED backend/tests/test_sweets.py::test_create_sweet - assert 404 == 201
FAILED backend/tests/test_sweets.py::test_get_sweets - assert 404 == 200
FAILED backend/tests/test_sweets.py::test_search_sweets - assert 404 == 200
============================== 3 failed in 3.69s ==============================
